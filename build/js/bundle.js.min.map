{"version":3,"sources":["app.js"],"names":["page","initApp","showServices","showSection","changeSection","document","querySelector","classList","add","querySelectorAll","forEach","link","addEventListener","e","preventDefault","parseInt","target","dataset","step","remove","async","result","fetch","db","json","servicios","service","id","nombre","precio","nameService","createElement","textContent","priceService","divService","onclick","selectedService","idService","appendChild","error","console","log","event","element","tagName","parentElement","contains"],"mappings":"AAAA,IAAAA,KAAA,EAMA,SAAAC,UACAC,eAEAC,cAEAC,gBAGA,SAAAD,cACAE,SAAAC,cAAA,SAAAN,MACAO,UAAAC,IAAA,gBAGAH,SAAAC,cAAA,eAAAN,UACAO,UAAAC,IAAA,WAGA,SAAAJ,gBACAC,SAAAI,iBAAA,gBACAC,QAAAC,IACAA,EAAAC,iBAAA,QAAAC,IACAA,EAAAC,iBACAd,KAAAe,SAAAF,EAAAG,OAAAC,QAAAC,MAGAb,SAAAC,cAAA,iBAAAC,UAAAY,OAAA,gBAGAd,SAAAC,cAAA,SAAAN,MACAO,UAAAC,IAAA,gBAGAH,SAAAC,cAAA,wBAAAC,UAAAY,OAAA,WAGAd,SAAAC,cAAA,eAAAN,UACAO,UAAAC,IAAA,eAKAY,eAAAlB,eACA,IACA,MAAAmB,QAAAC,MAAA,oBACAC,QAAAF,EAAAG,QACAC,UAAAA,GAAAF,EACAE,EAAAf,QAAAgB,IACA,MAAAC,GAAAA,EAAAC,OAAAA,EAAAC,OAAAA,GAAAH,EAIAI,EAAAzB,SAAA0B,cAAA,KACAD,EAAAE,YAAAJ,EACAE,EAAAvB,UAAAC,IAAA,gBAGA,MAAAyB,EAAA5B,SAAA0B,cAAA,KACAE,EAAAD,YAAA,KAAAH,EACAI,EAAA1B,UAAAC,IAAA,iBAGA,MAAA0B,EAAA7B,SAAA0B,cAAA,OACAG,EAAA3B,UAAAC,IAAA,WAGA0B,EAAAC,QAAAC,gBACAF,EAAAjB,QAAAoB,UAAAV,EAGAO,EAAAI,YAAAR,GACAI,EAAAI,YAAAL,GAGA5B,SAAAC,cAAA,aAAAgC,YAAAJ,KAEA,MAAAK,GACAC,QAAAC,IAAAF,IAGA,SAAAH,gBAAAM,GACA,IAAAC,EAGAA,EADA,MAAAD,EAAA1B,OAAA4B,QACAF,EAAA1B,OAAA6B,cAEAH,EAAA1B,OAEA2B,EAAApC,UAAAuC,SAAA,YACAH,EAAApC,UAAAY,OAAA,YAEAwB,EAAApC,UAAAC,IAAA,YA9FAH,SAAAO,iBAAA,oBAAA,WACAX","file":"bundle.js","sourcesContent":["let page = 1;\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    initApp();\n})\n\nfunction initApp(){\n    showServices();\n    // Highlight the current DIV according to the tab that is pressed\n    showSection();\n    // Hide or show a section according to the tab that is pressed\n    changeSection()\n}\n\nfunction showSection() {\n    const currentSection = document.querySelector(`#step-${page}`);\n    currentSection.classList.add('show-section');\n\n    // Highlight the current tab\n    const tab = document.querySelector(`[data-step=\"${page}\"]`);\n    tab.classList.add('current');\n}\n\nfunction changeSection() {\n    const links = document.querySelectorAll('.tabs button');\n    links.forEach( link => {\n        link.addEventListener('click', e => {\n            e.preventDefault();\n            page = parseInt(e.target.dataset.step);\n            \n            // Remove the show-section class from the previous section\n            document.querySelector('.show-section').classList.remove('show-section');\n\n            // Add show-section where we clicked\n            const section = document.querySelector(`#step-${page}`);\n            section.classList.add('show-section');\n\n            // Delete the Current class in the previous tab\n            document.querySelector('.tabs button.current').classList.remove('current');\n            \n            // Add the Current class in the new tab\n            const tab = document.querySelector(`[data-step=\"${page}\"]`);\n            tab.classList.add('current');\n        })\n    })\n}\n\nasync function showServices(){\n    try {\n        const result = await fetch('./servicios.json');\n        const db = await result.json();\n        const {servicios} = db;\n        servicios.forEach( service => {\n            const {id, nombre, precio} = service;\n            // DOM Scripting\n\n            // Generate name service\n            const nameService = document.createElement('P');\n            nameService.textContent = nombre;\n            nameService.classList.add('name-service');\n\n            // Generate price service\n            const priceService = document.createElement('P');\n            priceService.textContent = `$ ${precio}`;\n            priceService.classList.add('price-service');\n\n            // Generate content div\n            const divService = document.createElement('DIV');\n            divService.classList.add('service');\n\n            //Select a service for the appointment\n            divService.onclick = selectedService;\n            divService.dataset.idService = id; \n\n            // Inject price and name to divService\n            divService.appendChild(nameService);\n            divService.appendChild(priceService);\n            \n            //Inject service to HTML\n            document.querySelector('#services').appendChild(divService);\n        })\n    } catch (error) {\n        console.log(error);\n    }\n}\nfunction selectedService(event) {\n    let element;\n    //Force the element we click to be the DIV\n    if(event.target.tagName === 'P'){ \n        element = event.target.parentElement;\n    } else {\n        element = event.target;\n    }\n    if(element.classList.contains('selected')){\n        element.classList.remove('selected');\n    } else {\n        element.classList.add('selected');\n    }\n}"]}